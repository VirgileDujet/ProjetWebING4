{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\session utlisateur\\\\Desktop\\\\ING4\\\\Web\\\\TechnosWebTP1\\\\Nouveau dossier\\\\ProjetWebING4\\\\projet\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\session utlisateur\\\\Desktop\\\\ING4\\\\Web\\\\TechnosWebTP1\\\\Nouveau dossier\\\\ProjetWebING4\\\\projet\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\session utlisateur\\\\Desktop\\\\ING4\\\\Web\\\\TechnosWebTP1\\\\Nouveau dossier\\\\ProjetWebING4\\\\projet\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\session utlisateur\\\\Desktop\\\\ING4\\\\Web\\\\TechnosWebTP1\\\\Nouveau dossier\\\\ProjetWebING4\\\\projet\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\session utlisateur\\\\Desktop\\\\ING4\\\\Web\\\\TechnosWebTP1\\\\Nouveau dossier\\\\ProjetWebING4\\\\projet\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\session utlisateur\\\\Desktop\\\\ING4\\\\Web\\\\TechnosWebTP1\\\\Nouveau dossier\\\\ProjetWebING4\\\\projet\\\\src\\\\Container\\\\PageDash.js\";\nimport React, { Component } from 'react';\nimport Widget from '../components/Widget';\nimport PieWidget from '../components/PieWidget';\nimport ProgressWidget from '../components/ProgressWidget';\nimport ImageWidget from '../components/ImageWidget';\nimport VoteWidget from '../components/VoteWidget';\nimport TimerWidget from '../components/TimerWidget';\nimport DurationWidget from '../components/DurationWidget';\nimport '../style/Widget.css';\nimport '../App.css';\nimport { Container, Row, Col, Button } from 'reactstrap';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport axios from 'axios';\n\nvar PageDash =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PageDash, _Component);\n\n  function PageDash(props) {\n    var _this;\n\n    _classCallCheck(this, PageDash);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PageDash).call(this, props));\n    _this.state = {\n      value: '',\n      nombre: 5,\n      max1: 100,\n      max2: 100,\n      max3: 100,\n      maxa1: \"vide\",\n      maxa2: \"vide2\",\n      maxa3: \"vide3\",\n      dur: 0,\n      date: 0,\n      datetitre: \"vide\",\n      dateauteur: \"vide\",\n      coverurl: \"vide\",\n      rap: 0,\n      rock: 0,\n      pop: 0,\n      electro: 0,\n      kpop: 0,\n      autre: 0,\n      best: 0,\n      titralbum: \"titrealbum\",\n      auteur: \"auteur\",\n      fond: _this.props.fond,\n      prepa: _this.props.prepa,\n      echau: _this.props.echau,\n      jour: _this.props.jour,\n      mois: _this.props.mois,\n      annee: _this.props.annee,\n      heure: _this.props.heure,\n      lien: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(PageDash, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      axios.get('http://localhost:3030/artistes').then(function (_ref) {\n        var data = _ref.data;\n\n        for (var i = 0; i <= data.length; i++) {\n          if (i == 0) {\n            var fl = parseInt(data[i].followers, 10);\n          }\n\n          if (i != 0) {\n            fl = fl + parseInt(data[i].followers, 10);\n\n            _this2.setState({\n              nombre: fl\n            });\n          }\n        }\n      }).catch(function (err) {\n        console.error(err);\n      }); /////\n\n      axios.get('http://localhost:3030/artistes').then(function (_ref2) {\n        var data = _ref2.data;\n\n        for (var u = 0; u <= data.length; u++) {\n          if (u == 0) {\n            var tmp = [];\n            var t = parseInt(data[u].followers, 10);\n            tmp.push(t);\n          }\n\n          if (u != 0) {\n            var t = parseInt(data[u].followers, 10);\n            tmp.push(t);\n            tmp.sort(function (a, b) {\n              return a - b;\n            });\n\n            _this2.setState({\n              max1: tmp[data.length - 1]\n            });\n\n            _this2.setState({\n              max2: tmp[data.length - 2]\n            });\n\n            _this2.setState({\n              max3: tmp[data.length - 3]\n            });\n          }\n        }\n      }).catch(function (err) {\n        console.error(err);\n      }); /////\n\n      axios.get('http://localhost:3030/artistes').then(function (_ref3) {\n        var data = _ref3.data;\n\n        for (var z = 0; z <= data.length; z++) {\n          if (data[z].followers == _this2.state.max1) {\n            _this2.setState({\n              maxa1: data[z].nom\n            });\n          }\n\n          if (data[z].followers == _this2.state.max2) {\n            _this2.setState({\n              maxa2: data[z].nom\n            });\n          }\n\n          if (data[z].followers == _this2.state.max3) {\n            _this2.setState({\n              maxa3: data[z].nom\n            });\n          }\n        }\n      }).catch(function (err) {\n        console.error(err);\n      }); /////\n\n      axios.get('http://localhost:3030/albums').then(function (_ref4) {\n        var data = _ref4.data;\n        var l = data.length;\n        var x = Math.floor(Math.random() * l);\n        var cover = data[x].cover;\n        var titre = data[x].titre;\n        var auteur = data[x].auteur;\n        var tracks = data[x].tracks;\n        console.log(tracks[0]);\n\n        _this2.setState({\n          lien: cover\n        });\n\n        _this2.setState({\n          titrealbum: titre\n        });\n\n        _this2.setState({\n          auteur: auteur\n        });\n\n        _this2.setState({\n          best: tracks[0]\n        });\n      }).catch(function (err) {\n        console.error(err);\n      }); /////\n\n      axios.get('http://localhost:3030/albums').then(function (_ref5) {\n        var data = _ref5.data;\n\n        for (var z = 0; z <= data.length; z++) {\n          if (z == 0) {\n            var rap = 0;\n            var pop = 0;\n            var rock = 0;\n            var electro = 0;\n            var kpop = 0;\n            var autre = 0;\n          }\n\n          if (data[z].genre == \"Rap\") {\n            rap = rap + 1;\n          }\n\n          if (data[z].genre == \"Rock\") {\n            rock = rock + 1;\n          }\n\n          if (data[z].genre == \"Pop\") {\n            pop = pop + 1;\n          }\n\n          if (data[z].genre == \"Electro\") {\n            electro = electro + 1;\n          }\n\n          if (data[z].genre == \"K-pop\") {\n            kpop = kpop + 1;\n          }\n\n          if (data[z].genre == \"Autre\") {\n            autre = autre + 1;\n          }\n\n          _this2.setState({\n            rap: rap\n          });\n\n          _this2.setState({\n            rock: rock\n          });\n\n          _this2.setState({\n            pop: pop\n          });\n\n          _this2.setState({\n            electro: electro\n          });\n\n          _this2.setState({\n            kpop: kpop\n          });\n\n          _this2.setState({\n            autre: autre\n          });\n        }\n      }).catch(function (err) {\n        console.error(err);\n      }); ///////////\n\n      axios.get('http://localhost:3030/tracks').then(function (_ref6) {\n        var data = _ref6.data;\n\n        for (var z = 0; z <= data.length; z++) {\n          if (z == 0) {\n            var tot = data[z].duree;\n          }\n\n          if (z != 0) {\n            tot = tot + data[z].duree;\n          }\n\n          if (z == data.length - 1) {\n            var temps = new Date();\n            temps.setTime(tot * 1000);\n            var m = temps.getMinutes();\n          }\n\n          _this2.setState({\n            dur: m\n          });\n        }\n      }).catch(function (err) {\n        console.error(err);\n      }); /////\n      ///////////\n\n      axios.get('http://localhost:3030/albums').then(function (_ref7) {\n        var data = _ref7.data;\n\n        for (var z = 0; z <= data.length; z++) {\n          if (z == 0) {\n            var date = data[z].sortie;\n            var auteur = data[z].auteur;\n            var titre = data[z].titre;\n            var cover = data[z].cover;\n            var ajd = new Date();\n            var year = ajd.getFullYear();\n            var month = ajd.getMonth();\n            var day = ajd.getDate();\n            var ajd2 = new Date(year, month, day, 2, 0, 0, 0);\n          }\n\n          if (z != 0) {\n            if (data[z].sortie < date && data[z].dispo == \"non\") {\n              date = data[z].sortie;\n              auteur = data[z].auteur;\n              titre = data[z].titre;\n              cover = data[z].cover;\n            }\n          }\n\n          _this2.setState({\n            date: date\n          });\n\n          _this2.setState({\n            datetitre: titre\n          });\n\n          _this2.setState({\n            dateauteur: auteur\n          });\n\n          _this2.setState({\n            coverurl: cover\n          });\n        }\n      }).catch(function (err) {\n        console.error(err);\n      }); /////\n    } ///FONCTION POUR CREER UNE DATE\n\n  }, {\n    key: \"Envoidate\",\n    value: function Envoidate() {\n      var year = this.props.annee;\n      var month = this.props.mois;\n      var day = this.props.jour;\n      var hours = this.props.heure;\n      var date = new Date(year, month, day, hours);\n      return date;\n    }\n  }, {\n    key: \"test\",\n    value: function test(val) {\n      var ok = val + 1;\n      return ok.toString();\n    }\n  }, {\n    key: \"Envoidata\",\n    value: function Envoidata(donné) {\n      return donné;\n    }\n  }, {\n    key: \"Envoivote\",\n    value: function Envoivote() {\n      var data = [{\n        name: 'Spoti',\n        premier: this.state.max1,\n        deuxieme: this.state.max2,\n        troisieme: this.state.max3,\n        amt: 40\n      }];\n      return data;\n    }\n  }, {\n    key: \"Envoipie\",\n    value: function Envoipie() {\n      var datapie = [{\n        name: 'Rap',\n        value: this.state.rap\n      }, {\n        name: 'Electro',\n        value: this.state.electro\n      }, {\n        name: 'Rock',\n        value: this.state.rock\n      }, {\n        name: 'Pop',\n        value: this.state.pop\n      }, {\n        name: 'Autres',\n        value: this.state.autre\n      }];\n      return datapie;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"active\",\n        href: \"http://localhost:3000/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356\n        },\n        __self: this\n      }, \"Dashboard\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"http://localhost:3000/adminput\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357\n        },\n        __self: this\n      }, \"Put\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"http://localhost:3000/adminpost\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358\n        },\n        __self: this\n      }, \"Post\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"http://localhost:3000/admindelete\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359\n        },\n        __self: this\n      }, \"Delete\"))), React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363\n        },\n        __self: this\n      }, React.createElement(Col, {\n        sm: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366\n        },\n        __self: this\n      }), React.createElement(Widget, {\n        titre: \"Nombres de followers de nos artistes \",\n        contenu: this.Envoidata(this.state.nombre),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369\n        },\n        __self: this\n      }), React.createElement(ImageWidget, {\n        titre: \"La decouverte\",\n        auteur: this.state.auteur,\n        titrealbum: this.state.titrealbum,\n        track: this.state.best,\n        couv: this.Envoidata(this.state.lien),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370\n        },\n        __self: this\n      })), React.createElement(Col, {\n        sm: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 375\n        },\n        __self: this\n      }, React.createElement(VoteWidget, {\n        titre: \"Nos TOP 3 Followers :\",\n        datavote: this.Envoivote(),\n        max1: this.state.maxa1,\n        max2: this.state.maxa2,\n        max3: this.state.maxa3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380\n        },\n        __self: this\n      }), React.createElement(DurationWidget, {\n        titre: \"Duree total d'ecoute disponible\",\n        moyenne: this.state.dur,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381\n        },\n        __self: this\n      })), React.createElement(Col, {\n        sm: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386\n        },\n        __self: this\n      }, React.createElement(PieWidget, {\n        titre: \"Nombre d'album par genre\",\n        datapie: this.Envoipie(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389\n        },\n        __self: this\n      }), React.createElement(TimerWidget, {\n        titre: \"Le prochain album finis est dans :\",\n        album: this.state.datetitre,\n        auteur: this.state.dateauteur,\n        couv: this.state.coverurl,\n        date: this.state.date,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 390\n        },\n        __self: this\n      }), \"}\"))));\n    }\n  }]);\n\n  return PageDash;\n}(Component);\n\nexport default PageDash;","map":{"version":3,"sources":["C:\\Users\\session utlisateur\\Desktop\\ING4\\Web\\TechnosWebTP1\\Nouveau dossier\\ProjetWebING4\\projet\\src\\Container\\PageDash.js"],"names":["React","Component","Widget","PieWidget","ProgressWidget","ImageWidget","VoteWidget","TimerWidget","DurationWidget","Container","Row","Col","Button","BrowserRouter","Router","Route","Link","axios","PageDash","props","state","value","nombre","max1","max2","max3","maxa1","maxa2","maxa3","dur","date","datetitre","dateauteur","coverurl","rap","rock","pop","electro","kpop","autre","best","titralbum","auteur","fond","prepa","echau","jour","mois","annee","heure","lien","get","then","data","i","length","fl","parseInt","followers","setState","catch","err","console","error","u","tmp","t","push","sort","a","b","z","nom","l","x","Math","floor","random","cover","titre","tracks","log","titrealbum","genre","tot","duree","temps","Date","setTime","m","getMinutes","sortie","ajd","year","getFullYear","month","getMonth","day","getDate","ajd2","dispo","hours","val","ok","toString","donné","name","premier","deuxieme","troisieme","amt","datapie","Envoidata","Envoivote","Envoipie"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,cAAP,MAA2B,8BAA3B;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,cAAP,MAA2B,8BAA3B;AACA,OAAO,qBAAP;AACA,OAAO,YAAP;AACA,SAAQC,SAAR,EAAkBC,GAAlB,EAAsBC,GAAtB,EAA0BC,MAA1B,QAAuC,YAAvC;AACA,SAASC,aAAa,IAAIC,MAA1B,EAAkCC,KAAlC,EAAyCC,IAAzC,QAAqD,kBAArD;AACA,OAAOC,KAAP,MAAkB,OAAlB;;IAMMC,Q;;;;;AACJ,oBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,kFAAMA,KAAN;AAEE,UAAKC,KAAL,GAAa;AAACC,MAAAA,KAAK,EAAE,EAAR;AACbC,MAAAA,MAAM,EAAE,CADK;AAGbC,MAAAA,IAAI,EAAE,GAHO;AAIXC,MAAAA,IAAI,EAAE,GAJK;AAKTC,MAAAA,IAAI,EAAE,GALG;AAOTC,MAAAA,KAAK,EAAE,MAPE;AAQTC,MAAAA,KAAK,EAAG,OARC;AASTC,MAAAA,KAAK,EAAG,OATC;AAWTC,MAAAA,GAAG,EAAG,CAXG;AAaTC,MAAAA,IAAI,EAAG,CAbE;AAcTC,MAAAA,SAAS,EAAE,MAdF;AAeTC,MAAAA,UAAU,EAAG,MAfJ;AAgBTC,MAAAA,QAAQ,EAAE,MAhBD;AAkBTC,MAAAA,GAAG,EAAE,CAlBI;AAmBTC,MAAAA,IAAI,EAAE,CAnBG;AAoBTC,MAAAA,GAAG,EAAE,CApBI;AAqBTC,MAAAA,OAAO,EAAE,CArBA;AAsBTC,MAAAA,IAAI,EAAG,CAtBE;AAuBTC,MAAAA,KAAK,EAAE,CAvBE;AAyBTC,MAAAA,IAAI,EAAC,CAzBI;AA4BbC,MAAAA,SAAS,EAAE,YA5BE;AA6BbC,MAAAA,MAAM,EAAE,QA7BK;AA8BbC,MAAAA,IAAI,EAAE,MAAKxB,KAAL,CAAWwB,IA9BJ;AA+BbC,MAAAA,KAAK,EAAG,MAAKzB,KAAL,CAAWyB,KA/BN;AAgCbC,MAAAA,KAAK,EAAE,MAAK1B,KAAL,CAAW0B,KAhCL;AAgCYC,MAAAA,IAAI,EAAE,MAAK3B,KAAL,CAAW2B,IAhC7B;AAiCbC,MAAAA,IAAI,EAAE,MAAK5B,KAAL,CAAW4B,IAjCJ;AAkCbC,MAAAA,KAAK,EAAE,MAAK7B,KAAL,CAAW6B,KAlCL;AAmCbC,MAAAA,KAAK,EAAG,MAAK9B,KAAL,CAAW8B,KAnCN;AAoCbC,MAAAA,IAAI,EAAE;AApCO,KAAb;AAHe;AAwClB;;;;yCAEiB;AAAA;;AAGpBjC,MAAAA,KAAK,CAACkC,GAAN,CAAU,gCAAV,EACGC,IADH,CACQ,gBAAc;AAAA,YAAXC,IAAW,QAAXA,IAAW;;AAElB,aAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,IAAID,IAAI,CAACE,MAAzB,EAAiCD,CAAC,EAAlC,EACA;AACM,cAAGA,CAAC,IAAE,CAAN,EACA;AACE,gBAAIE,EAAE,GAAGC,QAAQ,CAACJ,IAAI,CAACC,CAAD,CAAJ,CAAQI,SAAT,EAAmB,EAAnB,CAAjB;AACD;;AACD,cAAGJ,CAAC,IAAE,CAAN,EACA;AACEE,YAAAA,EAAE,GAACA,EAAE,GAACC,QAAQ,CAACJ,IAAI,CAACC,CAAD,CAAJ,CAAQI,SAAT,EAAmB,EAAnB,CAAd;;AACD,YAAA,MAAI,CAACC,QAAL,CAAc;AAAErC,cAAAA,MAAM,EAAEkC;AAAV,aAAd;AACA;AACN;AAEF,OAhBH,EAiBGI,KAjBH,CAiBS,UAAAC,GAAG,EAAI;AACZC,QAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD,OAnBH,EAHoB,CAuBlB;;AACA5C,MAAAA,KAAK,CAACkC,GAAN,CAAU,gCAAV,EACGC,IADH,CACQ,iBAAc;AAAA,YAAXC,IAAW,SAAXA,IAAW;;AAGlB,aAAI,IAAIW,CAAC,GAAG,CAAZ,EAAeA,CAAC,IAAIX,IAAI,CAACE,MAAzB,EAAiCS,CAAC,EAAlC,EACA;AACM,cAAGA,CAAC,IAAE,CAAN,EACA;AACE,gBAAIC,GAAG,GAAG,EAAV;AACA,gBAAIC,CAAC,GAAGT,QAAQ,CAACJ,IAAI,CAACW,CAAD,CAAJ,CAAQN,SAAT,EAAmB,EAAnB,CAAhB;AACAO,YAAAA,GAAG,CAACE,IAAJ,CAASD,CAAT;AAED;;AACD,cAAGF,CAAC,IAAE,CAAN,EACA;AAEI,gBAAIE,CAAC,GAAGT,QAAQ,CAACJ,IAAI,CAACW,CAAD,CAAJ,CAAQN,SAAT,EAAmB,EAAnB,CAAhB;AACAO,YAAAA,GAAG,CAACE,IAAJ,CAASD,CAAT;AACAD,YAAAA,GAAG,CAACG,IAAJ,CAAS,UAACC,CAAD,EAAIC,CAAJ;AAAA,qBAAUD,CAAC,GAAGC,CAAd;AAAA,aAAT;;AAGA,YAAA,MAAI,CAACX,QAAL,CAAc;AAAEpC,cAAAA,IAAI,EAAE0C,GAAG,CAACZ,IAAI,CAACE,MAAL,GAAY,CAAb;AAAX,aAAd;;AACA,YAAA,MAAI,CAACI,QAAL,CAAc;AAAEnC,cAAAA,IAAI,EAAEyC,GAAG,CAACZ,IAAI,CAACE,MAAL,GAAY,CAAb;AAAX,aAAd;;AACA,YAAA,MAAI,CAACI,QAAL,CAAc;AAAElC,cAAAA,IAAI,EAAEwC,GAAG,CAACZ,IAAI,CAACE,MAAL,GAAY,CAAb;AAAX,aAAd;AAOH;AACN;AAEF,OAjCH,EAkCGK,KAlCH,CAkCS,UAAAC,GAAG,EAAI;AACZC,QAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD,OApCH,EAxBkB,CA6DhB;;AACA5C,MAAAA,KAAK,CAACkC,GAAN,CAAU,gCAAV,EACGC,IADH,CACQ,iBAAc;AAAA,YAAXC,IAAW,SAAXA,IAAW;;AAElB,aAAI,IAAIkB,CAAC,GAAC,CAAV,EAAcA,CAAC,IAAIlB,IAAI,CAACE,MAAxB,EAAgCgB,CAAC,EAAjC,EACA;AAEE,cAAGlB,IAAI,CAACkB,CAAD,CAAJ,CAAQb,SAAR,IAAmB,MAAI,CAACtC,KAAL,CAAWG,IAAjC,EACA;AACQ,YAAA,MAAI,CAACoC,QAAL,CAAc;AAAEjC,cAAAA,KAAK,EAAE2B,IAAI,CAACkB,CAAD,CAAJ,CAAQC;AAAjB,aAAd;AACP;;AACD,cAAGnB,IAAI,CAACkB,CAAD,CAAJ,CAAQb,SAAR,IAAmB,MAAI,CAACtC,KAAL,CAAWI,IAAjC,EACA;AACQ,YAAA,MAAI,CAACmC,QAAL,CAAc;AAAEhC,cAAAA,KAAK,EAAE0B,IAAI,CAACkB,CAAD,CAAJ,CAAQC;AAAjB,aAAd;AACP;;AACD,cAAGnB,IAAI,CAACkB,CAAD,CAAJ,CAAQb,SAAR,IAAmB,MAAI,CAACtC,KAAL,CAAWK,IAAjC,EACA;AACQ,YAAA,MAAI,CAACkC,QAAL,CAAc;AAAE/B,cAAAA,KAAK,EAAEyB,IAAI,CAACkB,CAAD,CAAJ,CAAQC;AAAjB,aAAd;AACP;AACF;AAEF,OApBH,EAqBGZ,KArBH,CAqBS,UAAAC,GAAG,EAAI;AACZC,QAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD,OAvBH,EA9DgB,CAsFd;;AACJ5C,MAAAA,KAAK,CAACkC,GAAN,CAAU,8BAAV,EACGC,IADH,CACQ,iBAAc;AAAA,YAAXC,IAAW,SAAXA,IAAW;AAClB,YAAIoB,CAAC,GAAEpB,IAAI,CAACE,MAAZ;AAEA,YAAImB,CAAC,GAAGC,IAAI,CAACC,KAAL,CAAYD,IAAI,CAACE,MAAL,KAAeJ,CAA3B,CAAR;AAHkB,YAIVK,KAJU,GAIAzB,IAAI,CAACqB,CAAD,CAJJ,CAIVI,KAJU;AAAA,YAKXC,KALW,GAKD1B,IAAI,CAACqB,CAAD,CALH,CAKXK,KALW;AAAA,YAMTrC,MANS,GAMEW,IAAI,CAACqB,CAAD,CANN,CAMThC,MANS;AAAA,YAOTsC,MAPS,GAOC3B,IAAI,CAACqB,CAAD,CAPL,CAOTM,MAPS;AAShBlB,QAAAA,OAAO,CAACmB,GAAR,CAAYD,MAAM,CAAC,CAAD,CAAlB;;AAEF,QAAA,MAAI,CAACrB,QAAL,CAAc;AAAET,UAAAA,IAAI,EAAE4B;AAAR,SAAd;;AACE,QAAA,MAAI,CAACnB,QAAL,CAAc;AAAEuB,UAAAA,UAAU,EAAEH;AAAd,SAAd;;AACE,QAAA,MAAI,CAACpB,QAAL,CAAc;AAAEjB,UAAAA,MAAM,EAAEA;AAAV,SAAd;;AACI,QAAA,MAAI,CAACiB,QAAL,CAAc;AAAEnB,UAAAA,IAAI,EAAEwC,MAAM,CAAC,CAAD;AAAd,SAAd;AACT,OAhBH,EAiBGpB,KAjBH,CAiBS,UAAAC,GAAG,EAAI;AACZC,QAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD,OAnBH,EAvFkB,CA2GhB;;AACJ5C,MAAAA,KAAK,CAACkC,GAAN,CAAU,8BAAV,EACOC,IADP,CACY,iBAAc;AAAA,YAAXC,IAAW,SAAXA,IAAW;;AAElB,aAAI,IAAIkB,CAAC,GAAC,CAAV,EAAcA,CAAC,IAAIlB,IAAI,CAACE,MAAxB,EAAgCgB,CAAC,EAAjC,EACA;AACE,cAAGA,CAAC,IAAE,CAAN,EACA;AACE,gBAAIrC,GAAG,GAAE,CAAT;AACA,gBAAIE,GAAG,GAAE,CAAT;AACA,gBAAID,IAAI,GAAE,CAAV;AACA,gBAAIE,OAAO,GAAC,CAAZ;AACA,gBAAIC,IAAI,GAAE,CAAV;AACA,gBAAIC,KAAK,GAAC,CAAV;AACD;;AAED,cAAGc,IAAI,CAACkB,CAAD,CAAJ,CAAQY,KAAR,IAAe,KAAlB,EACA;AACQjD,YAAAA,GAAG,GAACA,GAAG,GAAC,CAAR;AACP;;AACD,cAAGmB,IAAI,CAACkB,CAAD,CAAJ,CAAQY,KAAR,IAAe,MAAlB,EACA;AACQhD,YAAAA,IAAI,GAACA,IAAI,GAAC,CAAV;AACP;;AACD,cAAGkB,IAAI,CAACkB,CAAD,CAAJ,CAAQY,KAAR,IAAe,KAAlB,EACA;AACQ/C,YAAAA,GAAG,GAACA,GAAG,GAAC,CAAR;AACP;;AACD,cAAGiB,IAAI,CAACkB,CAAD,CAAJ,CAAQY,KAAR,IAAe,SAAlB,EACA;AACQ9C,YAAAA,OAAO,GAACA,OAAO,GAAC,CAAhB;AACP;;AACD,cAAGgB,IAAI,CAACkB,CAAD,CAAJ,CAAQY,KAAR,IAAe,OAAlB,EACA;AACQ7C,YAAAA,IAAI,GAACA,IAAI,GAAC,CAAV;AACP;;AACD,cAAGe,IAAI,CAACkB,CAAD,CAAJ,CAAQY,KAAR,IAAe,OAAlB,EACA;AACQ5C,YAAAA,KAAK,GAACA,KAAK,GAAC,CAAZ;AACP;;AAED,UAAA,MAAI,CAACoB,QAAL,CAAc;AAAEzB,YAAAA,GAAG,EAAEA;AAAP,WAAd;;AACA,UAAA,MAAI,CAACyB,QAAL,CAAc;AAAExB,YAAAA,IAAI,EAAEA;AAAR,WAAd;;AACA,UAAA,MAAI,CAACwB,QAAL,CAAc;AAAEvB,YAAAA,GAAG,EAAEA;AAAP,WAAd;;AACA,UAAA,MAAI,CAACuB,QAAL,CAAc;AAAEtB,YAAAA,OAAO,EAAEA;AAAX,WAAd;;AACA,UAAA,MAAI,CAACsB,QAAL,CAAc;AAAErB,YAAAA,IAAI,EAAEA;AAAR,WAAd;;AACA,UAAA,MAAI,CAACqB,QAAL,CAAc;AAAEpB,YAAAA,KAAK,EAAEA;AAAT,WAAd;AACD;AACF,OA/CP,EAgDOqB,KAhDP,CAgDa,UAAAC,GAAG,EAAI;AACZC,QAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD,OAlDP,EA5GoB,CA+Jd;;AACA5C,MAAAA,KAAK,CAACkC,GAAN,CAAU,8BAAV,EACGC,IADH,CACQ,iBAAc;AAAA,YAAXC,IAAW,SAAXA,IAAW;;AAElB,aAAI,IAAIkB,CAAC,GAAC,CAAV,EAAcA,CAAC,IAAIlB,IAAI,CAACE,MAAxB,EAAgCgB,CAAC,EAAjC,EACA;AAEE,cAAGA,CAAC,IAAE,CAAN,EACA;AACQ,gBAAIa,GAAG,GAAG/B,IAAI,CAACkB,CAAD,CAAJ,CAAQc,KAAlB;AAEP;;AACD,cAAGd,CAAC,IAAE,CAAN,EACA;AACQa,YAAAA,GAAG,GAAGA,GAAG,GAAC/B,IAAI,CAACkB,CAAD,CAAJ,CAAQc,KAAlB;AACP;;AACD,cAAGd,CAAC,IAAElB,IAAI,CAACE,MAAL,GAAY,CAAlB,EACA;AACE,gBAAI+B,KAAK,GAAC,IAAIC,IAAJ,EAAV;AACAD,YAAAA,KAAK,CAACE,OAAN,CAAcJ,GAAG,GAAC,IAAlB;AACA,gBAAIK,CAAC,GAAGH,KAAK,CAACI,UAAN,EAAR;AACD;;AAGC,UAAA,MAAI,CAAC/B,QAAL,CAAc;AAAE9B,YAAAA,GAAG,EAAE4D;AAAP,WAAd;AACH;AAEF,OA1BH,EA2BG7B,KA3BH,CA2BS,UAAAC,GAAG,EAAI;AACZC,QAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD,OA7BH,EAhKc,CA8LZ;AACA;;AACA5C,MAAAA,KAAK,CAACkC,GAAN,CAAU,8BAAV,EACGC,IADH,CACQ,iBAAc;AAAA,YAAXC,IAAW,SAAXA,IAAW;;AAElB,aAAI,IAAIkB,CAAC,GAAC,CAAV,EAAcA,CAAC,IAAIlB,IAAI,CAACE,MAAxB,EAAgCgB,CAAC,EAAjC,EACA;AAEE,cAAGA,CAAC,IAAE,CAAN,EACA;AAEO,gBAAIzC,IAAI,GAAGuB,IAAI,CAACkB,CAAD,CAAJ,CAAQoB,MAAnB;AACA,gBAAIjD,MAAM,GAAGW,IAAI,CAACkB,CAAD,CAAJ,CAAQ7B,MAArB;AACA,gBAAIqC,KAAK,GAAG1B,IAAI,CAACkB,CAAD,CAAJ,CAAQQ,KAApB;AACA,gBAAID,KAAK,GAAGzB,IAAI,CAACkB,CAAD,CAAJ,CAAQO,KAApB;AACA,gBAAIc,GAAG,GAAE,IAAIL,IAAJ,EAAT;AAEA,gBAAIM,IAAI,GAACD,GAAG,CAACE,WAAJ,EAAT;AACA,gBAAIC,KAAK,GAAEH,GAAG,CAACI,QAAJ,EAAX;AACA,gBAAIC,GAAG,GAAGL,GAAG,CAACM,OAAJ,EAAV;AAEA,gBAAIC,IAAI,GAAG,IAAIZ,IAAJ,CAASM,IAAT,EAAcE,KAAd,EAAqBE,GAArB,EAAyB,CAAzB,EAA2B,CAA3B,EAA6B,CAA7B,EAA+B,CAA/B,CAAX;AAIN;;AACD,cAAG1B,CAAC,IAAE,CAAN,EACA;AAGI,gBAAGlB,IAAI,CAACkB,CAAD,CAAJ,CAAQoB,MAAR,GAAgB7D,IAAhB,IAAwBuB,IAAI,CAACkB,CAAD,CAAJ,CAAQ6B,KAAR,IAAe,KAA1C,EACA;AAEItE,cAAAA,IAAI,GAAGuB,IAAI,CAACkB,CAAD,CAAJ,CAAQoB,MAAf;AACAjD,cAAAA,MAAM,GAAGW,IAAI,CAACkB,CAAD,CAAJ,CAAQ7B,MAAjB;AACAqC,cAAAA,KAAK,GAAG1B,IAAI,CAACkB,CAAD,CAAJ,CAAQQ,KAAhB;AACAD,cAAAA,KAAK,GAAGzB,IAAI,CAACkB,CAAD,CAAJ,CAAQO,KAAhB;AAEH;AAGJ;;AAGC,UAAA,MAAI,CAACnB,QAAL,CAAc;AAAE7B,YAAAA,IAAI,EAAEA;AAAR,WAAd;;AACA,UAAA,MAAI,CAAC6B,QAAL,CAAc;AAAE5B,YAAAA,SAAS,EAAEgD;AAAb,WAAd;;AACA,UAAA,MAAI,CAACpB,QAAL,CAAc;AAAE3B,YAAAA,UAAU,EAAEU;AAAd,WAAd;;AACA,UAAA,MAAI,CAACiB,QAAL,CAAc;AAAE1B,YAAAA,QAAQ,EAAE6C;AAAZ,WAAd;AACH;AAEF,OAhDH,EAiDGlB,KAjDH,CAiDS,UAAAC,GAAG,EAAI;AACZC,QAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD,OAnDH,EAhMY,CAoPV;AACT,K,CAGD;;;;gCACa;AAET,UAAIgC,IAAI,GAAC,KAAK1E,KAAL,CAAW6B,KAApB;AACA,UAAI+C,KAAK,GAAE,KAAK5E,KAAL,CAAW4B,IAAtB;AACA,UAAIkD,GAAG,GAAG,KAAK9E,KAAL,CAAW2B,IAArB;AACA,UAAIuD,KAAK,GAAE,KAAKlF,KAAL,CAAW8B,KAAtB;AACA,UAAInB,IAAI,GAAG,IAAIyD,IAAJ,CAASM,IAAT,EAAcE,KAAd,EAAqBE,GAArB,EAA0BI,KAA1B,CAAX;AAEA,aAAOvE,IAAP;AACD;;;yBAEIwE,G,EAAI;AACP,UAAMC,EAAE,GAAGD,GAAG,GAAC,CAAf;AACA,aAAOC,EAAE,CAACC,QAAH,EAAP;AACD;;;8BAESC,K,EAAM;AAEd,aAAOA,KAAP;AACD;;;gCAEU;AACT,UAAMpD,IAAI,GAAG,CACX;AACEqD,QAAAA,IAAI,EAAE,OADR;AACiBC,QAAAA,OAAO,EAAE,KAAKvF,KAAL,CAAWG,IADrC;AAC2CqF,QAAAA,QAAQ,EAAE,KAAKxF,KAAL,CAAWI,IADhE;AACsEqF,QAAAA,SAAS,EAAE,KAAKzF,KAAL,CAAWK,IAD5F;AACkGqF,QAAAA,GAAG,EAAE;AADvG,OADW,CAAb;AAKA,aAAOzD,IAAP;AACD;;;+BAES;AACR,UAAM0D,OAAO,GAAG,CACd;AAAEL,QAAAA,IAAI,EAAE,KAAR;AAAerF,QAAAA,KAAK,EAAE,KAAKD,KAAL,CAAWc;AAAjC,OADc,EAC0B;AAAEwE,QAAAA,IAAI,EAAE,SAAR;AAAmBrF,QAAAA,KAAK,EAAE,KAAKD,KAAL,CAAWiB;AAArC,OAD1B,EAEd;AAAEqE,QAAAA,IAAI,EAAE,MAAR;AAAgBrF,QAAAA,KAAK,EAAE,KAAKD,KAAL,CAAWe;AAAlC,OAFc,EAGd;AAAEuE,QAAAA,IAAI,EAAE,KAAR;AAAerF,QAAAA,KAAK,EAAE,KAAKD,KAAL,CAAWgB;AAAjC,OAHc,EAG0B;AAAEsE,QAAAA,IAAI,EAAE,QAAR;AAAkBrF,QAAAA,KAAK,EAAE,KAAKD,KAAL,CAAWmB;AAApC,OAH1B,CAAhB;AAKA,aAAOwE,OAAP;AACD;;;6BAEU;AAEL,aACJ;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAI;AAAG,QAAA,SAAS,EAAC,QAAb;AAAsB,QAAA,IAAI,EAAC,wBAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAJ,CADE,EAEF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAI;AAAG,QAAA,IAAI,EAAC,gCAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAJ,CAFE,EAGF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAI;AAAG,QAAA,IAAI,EAAC,iCAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAJ,CAHE,EAIF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAI;AAAG,QAAA,IAAI,EAAC,mCAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAJ,CAJE,CAFA,EASE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAGE,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,uCAAd;AAAsD,QAAA,OAAO,EAAE,KAAKC,SAAL,CAAe,KAAK5F,KAAL,CAAWE,MAA1B,CAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,EAME,oBAAC,WAAD;AAAa,QAAA,KAAK,EAAC,eAAnB;AAAmC,QAAA,MAAM,EAAE,KAAKF,KAAL,CAAWsB,MAAtD;AAA8D,QAAA,UAAU,EAAE,KAAKtB,KAAL,CAAW8D,UAArF;AAAkG,QAAA,KAAK,EAAE,KAAK9D,KAAL,CAAWoB,IAApH;AAA0H,QAAA,IAAI,EAAE,KAAKwE,SAAL,CAAe,KAAK5F,KAAL,CAAW8B,IAA1B,CAAhI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANF,CADA,EAYE,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGE,oBAAC,UAAD;AAAY,QAAA,KAAK,EAAC,uBAAlB;AAA0C,QAAA,QAAQ,EAAG,KAAK+D,SAAL,EAArD;AAAuE,QAAA,IAAI,EAAE,KAAK7F,KAAL,CAAWM,KAAxF;AAA+F,QAAA,IAAI,EAAE,KAAKN,KAAL,CAAWO,KAAhH;AAAuH,QAAA,IAAI,EAAE,KAAKP,KAAL,CAAWQ,KAAxI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,EAME,oBAAC,cAAD;AAAgB,QAAA,KAAK,EAAC,iCAAtB;AAAwD,QAAA,OAAO,EAAE,KAAKR,KAAL,CAAWS,GAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANF,CAZF,EAuBE,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AAAW,QAAA,KAAK,EAAC,0BAAjB;AAA4C,QAAA,OAAO,EAAE,KAAKqF,QAAL,EAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHJ,EAII,oBAAC,WAAD;AAAa,QAAA,KAAK,EAAC,oCAAnB;AAAwD,QAAA,KAAK,EAAG,KAAK9F,KAAL,CAAWW,SAA3E;AAAsF,QAAA,MAAM,EAAE,KAAKX,KAAL,CAAWY,UAAzG;AAAqH,QAAA,IAAI,EAAE,KAAKZ,KAAL,CAAWa,QAAtI;AAAgJ,QAAA,IAAI,EAAI,KAAKb,KAAL,CAAWU,IAAnK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ,MAvBF,CADJ,CATF,CADI;AAgDH;;;;EA7XkB7B,S;;AAoYvB,eAAeiB,QAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport Widget from '../components/Widget';\r\nimport PieWidget from '../components/PieWidget';\r\nimport ProgressWidget from '../components/ProgressWidget';\r\nimport ImageWidget from '../components/ImageWidget'\r\nimport VoteWidget from '../components/VoteWidget'\r\nimport TimerWidget from '../components/TimerWidget'\r\nimport DurationWidget from '../components/DurationWidget'\r\nimport '../style/Widget.css';\r\nimport '../App.css'\r\nimport {Container,Row,Col,Button} from 'reactstrap';\r\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\nimport axios from 'axios';\r\n\r\n\r\n\r\n\r\n\r\nclass PageDash extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n      this.state = {value: '',\r\n      nombre: 5 ,\r\n\r\n      max1 :100,\r\n        max2 :100,\r\n          max3 :100,\r\n\r\n          maxa1 :\"vide\",\r\n          maxa2 : \"vide2\",\r\n          maxa3 : \"vide3\",\r\n\r\n          dur : 0,\r\n\r\n          date : 0,\r\n          datetitre :\"vide\",\r\n          dateauteur : \"vide\",\r\n          coverurl: \"vide\",\r\n\r\n          rap: 0,\r\n          rock :0,\r\n          pop :0,\r\n          electro :0,\r\n          kpop : 0,\r\n          autre :0,\r\n\r\n          best:0,\r\n\r\n\r\n      titralbum: \"titrealbum\",\r\n      auteur: \"auteur\" ,\r\n      fond: this.props.fond ,\r\n      prepa : this.props.prepa,\r\n      echau: this.props.echau ,jour: this.props.jour ,\r\n      mois: this.props.mois,\r\n      annee: this.props.annee,\r\n      heure : this.props.heure ,\r\n      lien: \"\"};\r\n  }\r\n\r\ncomponentWillMount(){\r\n\r\n\r\naxios.get('http://localhost:3030/artistes')\r\n  .then(({ data }) => {\r\n\r\n    for(var i = 0; i <= data.length; i++)\r\n    {\r\n          if(i==0)\r\n          {\r\n            var fl = parseInt(data[i].followers,10);\r\n          }\r\n          if(i!=0)\r\n          {\r\n            fl=fl+parseInt(data[i].followers,10);\r\n           this.setState({ nombre: fl});\r\n          }\r\n    }\r\n\r\n  })\r\n  .catch(err => {\r\n    console.error(err);\r\n  })\r\n  /////\r\n  axios.get('http://localhost:3030/artistes')\r\n    .then(({ data }) => {\r\n\r\n\r\n      for(var u = 0; u <= data.length; u++)\r\n      {\r\n            if(u==0)\r\n            {\r\n              var tmp = [];\r\n              var t = parseInt(data[u].followers,10);\r\n              tmp.push(t);\r\n\r\n            }\r\n            if(u!=0)\r\n            {\r\n\r\n                var t = parseInt(data[u].followers,10);\r\n                tmp.push(t)\r\n                tmp.sort((a, b) => a - b);\r\n\r\n\r\n                this.setState({ max1: tmp[data.length-1]});\r\n                this.setState({ max2: tmp[data.length-2]});\r\n                this.setState({ max3: tmp[data.length-3]});\r\n\r\n\r\n\r\n\r\n\r\n\r\n            }\r\n      }\r\n\r\n    })\r\n    .catch(err => {\r\n      console.error(err);\r\n    })\r\n    /////\r\n    axios.get('http://localhost:3030/artistes')\r\n      .then(({ data }) => {\r\n\r\n        for(var z=0 ; z <= data.length; z++)\r\n        {\r\n\r\n          if(data[z].followers==this.state.max1)\r\n          {\r\n                  this.setState({ maxa1: data[z].nom });\r\n          }\r\n          if(data[z].followers==this.state.max2)\r\n          {\r\n                  this.setState({ maxa2: data[z].nom });\r\n          }\r\n          if(data[z].followers==this.state.max3)\r\n          {\r\n                  this.setState({ maxa3: data[z].nom });\r\n          }\r\n        }\r\n\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n      })\r\n      /////\r\n  axios.get('http://localhost:3030/albums')\r\n    .then(({ data }) => {\r\n      var l= data.length;\r\n\r\n      var x = Math.floor((Math.random() *l) );\r\n      const { cover } = data[x];\r\n      const {titre  } =data[x];\r\n        const {auteur  } =data[x];\r\n        const {tracks } =data[x];\r\n\r\n        console.log(tracks[0]);\r\n\r\n      this.setState({ lien: cover });\r\n        this.setState({ titrealbum: titre });\r\n          this.setState({ auteur: auteur });\r\n              this.setState({ best: tracks[0] });\r\n    })\r\n    .catch(err => {\r\n      console.error(err);\r\n    })\r\n    /////\r\naxios.get('http://localhost:3030/albums')\r\n      .then(({ data }) => {\r\n\r\n        for(var z=0 ; z <= data.length; z++)\r\n        {\r\n          if(z==0)\r\n          {\r\n            var rap =0;\r\n            var pop =0;\r\n            var rock =0;\r\n            var electro=0;\r\n            var kpop =0;\r\n            var autre=0;\r\n          }\r\n\r\n          if(data[z].genre==\"Rap\")\r\n          {\r\n                  rap=rap+1;\r\n          }\r\n          if(data[z].genre==\"Rock\")\r\n          {\r\n                  rock=rock+1;\r\n          }\r\n          if(data[z].genre==\"Pop\")\r\n          {\r\n                  pop=pop+1;\r\n          }\r\n          if(data[z].genre==\"Electro\")\r\n          {\r\n                  electro=electro+1;\r\n          }\r\n          if(data[z].genre==\"K-pop\")\r\n          {\r\n                  kpop=kpop+1;\r\n          }\r\n          if(data[z].genre==\"Autre\")\r\n          {\r\n                  autre=autre+1;\r\n          }\r\n\r\n          this.setState({ rap: rap });\r\n          this.setState({ rock: rock });\r\n          this.setState({ pop: pop });\r\n          this.setState({ electro: electro });\r\n          this.setState({ kpop: kpop });\r\n          this.setState({ autre: autre });\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n      })\r\n      ///////////\r\n      axios.get('http://localhost:3030/tracks')\r\n        .then(({ data }) => {\r\n\r\n          for(var z=0 ; z <= data.length; z++)\r\n          {\r\n\r\n            if(z==0)\r\n            {\r\n                    var tot = data[z].duree;\r\n\r\n            }\r\n            if(z!=0)\r\n            {\r\n                    tot = tot+data[z].duree;\r\n            }\r\n            if(z==data.length-1)\r\n            {\r\n              var temps=new Date();\r\n              temps.setTime(tot*1000);\r\n              var m = temps.getMinutes();\r\n            }\r\n\r\n\r\n              this.setState({ dur: m });\r\n          }\r\n\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n        })\r\n        /////\r\n        ///////////\r\n        axios.get('http://localhost:3030/albums')\r\n          .then(({ data }) => {\r\n\r\n            for(var z=0 ; z <= data.length; z++)\r\n            {\r\n\r\n              if(z==0)\r\n              {\r\n\r\n                     var date = data[z].sortie;\r\n                     var auteur = data[z].auteur;\r\n                     var titre = data[z].titre;\r\n                     var cover = data[z].cover;\r\n                     var ajd= new Date();\r\n\r\n                     var year=ajd.getFullYear();\r\n                     var month =ajd.getMonth();\r\n                     var day = ajd.getDate();\r\n\r\n                     var ajd2 = new Date(year,month, day,2,0,0,0);\r\n\r\n\r\n\r\n              }\r\n              if(z!=0)\r\n              {\r\n\r\n\r\n                  if(data[z].sortie <date && data[z].dispo==\"non\")\r\n                  {\r\n\r\n                      date = data[z].sortie;\r\n                      auteur = data[z].auteur;\r\n                      titre = data[z].titre;\r\n                      cover = data[z].cover;\r\n\r\n                  }\r\n\r\n\r\n              }\r\n\r\n\r\n                this.setState({ date: date });\r\n                this.setState({ datetitre: titre });\r\n                this.setState({ dateauteur: auteur });\r\n                this.setState({ coverurl: cover});\r\n            }\r\n\r\n          })\r\n          .catch(err => {\r\n            console.error(err);\r\n          })\r\n          /////\r\n}\r\n\r\n\r\n///FONCTION POUR CREER UNE DATE\r\n  Envoidate(){\r\n\r\n    var year=this.props.annee;\r\n    var month =this.props.mois;\r\n    var day = this.props.jour;\r\n    var hours =this.props.heure;\r\n    var date = new Date(year,month, day, hours);\r\n\r\n    return date;\r\n  }\r\n\r\n  test(val){\r\n    const ok = val+1;\r\n    return ok.toString();\r\n  }\r\n\r\n  Envoidata(donné){\r\n\r\n    return donné;\r\n  }\r\n\r\n  Envoivote(){\r\n    const data = [\r\n      {\r\n        name: 'Spoti', premier: this.state.max1, deuxieme: this.state.max2 ,troisieme: this.state.max3, amt: 40,\r\n      },\r\n    ]\r\n    return data;\r\n  }\r\n\r\n  Envoipie(){\r\n    const datapie = [\r\n      { name: 'Rap', value: this.state.rap }, { name: 'Electro', value: this.state.electro },\r\n      { name: 'Rock', value: this.state.rock },\r\n      { name: 'Pop', value: this.state.pop }, { name: 'Autres', value: this.state.autre},\r\n    ];\r\n    return datapie;\r\n  }\r\n\r\n    render() {\r\n\r\n        return (\r\n    <div className=\"App\">\r\n\r\n    <ul>\r\n  <li><a className=\"active\" href=\"http://localhost:3000/\">Dashboard</a></li>\r\n  <li><a href=\"http://localhost:3000/adminput\">Put</a></li>\r\n  <li><a href=\"http://localhost:3000/adminpost\">Post</a></li>\r\n  <li><a href=\"http://localhost:3000/admindelete\">Delete</a></li>\r\n</ul>\r\n\r\n      <Container>\r\n          <Row>\r\n          <Col sm='4'>\r\n\r\n            <br/>\r\n            <Widget titre=\"Nombres de followers de nos artistes \" contenu={this.Envoidata(this.state.nombre)}>\r\n            </Widget >\r\n            <br/>\r\n            <ImageWidget titre=\"La decouverte\" auteur={this.state.auteur} titrealbum={this.state.titrealbum}  track={this.state.best} couv={this.Envoidata(this.state.lien)}>\r\n            </ImageWidget>\r\n          </Col>\r\n\r\n\r\n            <Col sm='4'>\r\n\r\n\r\n              <VoteWidget titre=\"Nos TOP 3 Followers :\" datavote= {this.Envoivote()} max1={this.state.maxa1} max2={this.state.maxa2} max3={this.state.maxa3}>\r\n              </VoteWidget>\r\n              <br/>\r\n              <DurationWidget titre=\"Duree total d'ecoute disponible\" moyenne={this.state.dur}>\r\n              </DurationWidget>\r\n\r\n            </Col>\r\n\r\n            <Col sm='4'>\r\n              <PieWidget titre=\"Nombre d'album par genre\" datapie={this.Envoipie()}>\r\n              </PieWidget>\r\n                <br/>\r\n                <TimerWidget titre=\"Le prochain album finis est dans :\" album ={this.state.datetitre} auteur={this.state.dateauteur} couv={this.state.coverurl} date = {this.state.date}>\r\n                </TimerWidget>\r\n\r\n              }\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default PageDash;\r\n"]},"metadata":{},"sourceType":"module"}